"use strict";var _prototypeProperties=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},_classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},express=require("express"),path=require("path"),Router=require("./Router"),BASE_DIR=__dirname+"/../../../../",ConfigRouter=function(){function e(t){_classCallCheck(this,e),this.site_id=t.site_id,this.api_key=t.api_key,this.env=t.env||"dev",this.tmp=t.tmp||"/tmp",this.turbo=require("turbo360")({site_id:t.site_id}),this.createRouter=this.createRouter.bind(this),this.populateRouter=this.populateRouter.bind(this),this.local=this.local.bind(this),this.prod=this.prod.bind(this)}return _prototypeProperties(e,null,{createRouter:{value:function(e){return"dev"==e?new express.Router:new Router},writable:!0,configurable:!0},populateRouter:{value:function(e,t){e.get("/:pagename",function(e,r){t(e.params.pagename,e).then(function(e){r.data(e)}).catch(function(e){r.json({confirmation:"fail",message:e.message})})})},writable:!0,configurable:!0},local:{value:function(e){var t=this.createRouter("dev");return this.populateRouter(t,e),t},writable:!0,configurable:!0},prod:{value:function(e){var t=this.createRouter("prod");return this.populateRouter(t,e),t},writable:!0,configurable:!0},router:{value:function(e){var t=this.createRouter(this.env);return this.populateRouter(t,e),t},writable:!0,configurable:!0}}),e}();module.exports=ConfigRouter;